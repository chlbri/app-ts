{"version":3,"file":"toAction.js","sources":["../../../src/actions/functions/toAction.ts"],"sourcesContent":["import type { ActionConfig, ActionMap, ActionResult } from '#actions';\nimport type { EventsMap, PromiseeMap } from '#events';\nimport { reduceFnMap } from '#utils';\nimport type { types } from '@bemedev/types';\nimport { isDescriber, type FnR } from '~types';\n\nexport type ToAction_F = <\n  E extends EventsMap,\n  P extends PromiseeMap = PromiseeMap,\n  Pc = any,\n  Tc extends types.PrimitiveObject = types.PrimitiveObject,\n>(\n  events: E,\n  promisees: P,\n  action: ActionConfig,\n  actions?: ActionMap<E, P, Pc, Tc>,\n) => FnR<E, P, Pc, Tc, ActionResult<Pc, Tc>> | undefined;\n\n/**\n * Converts an ActionConfig to a function that can be executed with the provided eventsMap and promisees.\n * @param events of type {@linkcode EventsMap}, events map to use for resolving the action.\n * @param promisees of type {@linkcode PromiseeMap}, the promisees map to use for resolving the action.\n * @param action of type {@linkcode ActionConfig}, action configuration to convert.\n * @param actions of type {@linkcode ActionMap}, The actions map containing functions to execute.\n *\n * @see {@linkcode types.PrimitiveObject}\n * @see {@linkcode ActionResult}\n * @see {@linkcode reduceFnMap}\n * @see {@linkcode isDescriber}\n */\nexport const toAction: ToAction_F = (\n  events,\n  promisees,\n  action,\n  actions,\n) => {\n  if (isDescriber(action)) {\n    const fn = actions?.[action.name];\n    const func = fn ? reduceFnMap(events, promisees, fn) : undefined;\n    return func;\n  }\n\n  const fn = actions?.[action];\n  const func = fn ? reduceFnMap(events, promisees, fn) : undefined;\n  return func;\n};\n"],"names":[],"mappings":";;;;;;;;;AAkBA;;;;;;;;;;;AAWG;AACI,MAAM,QAAQ,GAAe,CAClC,MAAM,EACN,SAAS,EACT,MAAM,EACN,OAAO,KACL;AACF,IAAA,IAAI,WAAW,CAAC,MAAM,CAAC,EAAE;QACvB,MAAM,EAAE,GAAG,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC;AACjC,QAAA,MAAM,IAAI,GAAG,EAAE,GAAG,WAAW,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE,CAAC,GAAG,SAAS;AAChE,QAAA,OAAO,IAAI;IACb;AAEA,IAAA,MAAM,EAAE,GAAG,OAAO,GAAG,MAAM,CAAC;AAC5B,IAAA,MAAM,IAAI,GAAG,EAAE,GAAG,WAAW,CAAC,MAAM,EAAE,SAAS,EAAE,EAAE,CAAC,GAAG,SAAS;AAChE,IAAA,OAAO,IAAI;AACb;;;;"}